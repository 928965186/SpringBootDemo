<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="icon" type="image/x-icon" href="../static/cat.ico">
<script type="text/javascript" src="../static/js/jquery-2.1.4.min.js"></script>
<title>分页测试</title>
</head>
<body>

<button id="shang" onclick="shang()">上一页</button>
<input id="yema" type="text"  size="1px"  >
<button id="xia" onclick="xia()">下一页</button>

<li>List循环：  
            <table border="1">  
              <tr>  
                <th>用户名</th>  
                <th>密码</th>  
              </tr>  
              <tr  th:each="user,userStat : ${user}">  
                <th th:text="${user.username}">用户名</th>  
                <th th:text="${user.password}">密码</th>  
              </tr>  
            </table>  


<script type="text/javascript">
$(document).ready(function () {
	$("#yema").val(1);
	var page=$("#yema").val();
		 $.ajax({
				url : "ajaxtest",// 请求的action地址
				type : "POST",// 请求方式
				dataType : "json",// 设置返回数据类型
				data:"page="+page,
				success : function(data) {
					alert(data.msg)
					
				},// 响应完成后执行的回调方法
				error : function(XMLHttpRequest, statusText) {
					alert("失败!")
					
				}// 响应失败后执行的回调方法
			}) 
}) 

function shang(){
	var yema=$("#yema").val();
	if(yema==="1"){
		alert("已在第一页");
		}else{
			$("#yema").val(parseInt(yema)-1);
		
			}
	var newye=$("#yema").val();
	 $.ajax({
		url : "ajaxtest",// 请求的action地址
		type : "POST",// 请求方式
		dataType : "json",// 设置返回数据类型
		data:"page="+newye,
		success : function(data) {
			alert(data.msg)
			
		},// 响应完成后执行的回调方法
		error : function(XMLHttpRequest, statusText) {
			alert("失败!")
			
		}// 响应失败后执行的回调方法
	}) 
}


function xia(){
	var yema=$("#yema").val();
	if(yema==="10"){
		alert("已在最后一页");
		}else{
			$("#yema").val(parseInt(yema)+1);
			}
	var newye=$("#yema").val();
	 $.ajax({
		url : "ajaxtest",// 请求的action地址
		type : "POST",// 请求方式
		dataType : "json",// 设置返回数据类型
		data:"page="+newye,
		success : function(data) {
			alert(data.list)
		},// 响应完成后执行的回调方法
		error : function(XMLHttpRequest, statusText) {
			alert("失败!")
			
		}// 响应失败后执行的回调方法
	}) 
}


</script>
</body>
</html>